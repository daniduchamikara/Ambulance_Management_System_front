<main role="main" class="flex-shrink-0">
  <div class="container">
    <div class="card-header text-secondary">
      <div class="row">
        <div class="col">
          <h4>Ambulance Management</h4>
        </div>
        <div class="form-inline my-2 my-lg-0">
          <button type="button" class="btn btn-primary" data-toggle="modal" routerLink="report">view
            report</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container mt-4">

    <div class="row text-white">


      <div class="col rounded mr-2 ml-2" style="background-color: #27C24C; cursor: pointer;" routerLink="ambulance">
        <div class="row" style="border-radius: 10px; height:80px;">
          <div class="col-4 text-center rounded-left" style="background-color: #1E983B;">
            <img class="" style="margin-top:16px;" src="assets/images/share-white-40.png"/>
          </div>
          <div class="col">
            <h2>{{count}}</h2>
            <span>Ambulance</span>
          </div>
        </div>
      </div>
    </div>
    <div class="panel panel-default border rounded p-3">
      <nav class="navbar navbar-light justify-content-between">

        <form class="form-inline">
          <span>Show</span>
          <div class="dropdown mr-3 ml-2">
            <button class="btn border dropdown-toggle" type="button" id="dropdownMenuButton"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              10
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="#">10</a>
              <a class="dropdown-item" href="#">25</a>
              <a class="dropdown-item" href="#">50</a>
            </div>
          </div>
          <span>entries</span>
        </form>

        <form class="form-inline">
          <label for="colFormLabel" class="col col-form-label">Search:</label>
          <input class="form-control mr-sm-2" type="search" aria-label="Search">
        </form>
      </nav>
      <table mat-table class="table table-striped ">
        <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">License Plate</th>
          <th scope="col">Vehicle Model</th>
          <th scope="col">Vehicle Model</th>
          <th scope="col">Availability</th>
          <th scope="col">Driver Name</th>
          <th scope="col">Trip Type</th>
          <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let ambulances of ambulance">
          <td>{{ambulances.ambulanceId}}</td>
          <td>{{ambulances.licensePlate}}</td>
          <td>{{ambulances.vehicleModel}}</td>
          <td>{{ambulances.other}}</td>
          <td>{{ambulances.status}}</td>
          <td><input required="required" #driverName name="fieldName"></td>
          <td>
            <select>
              <option disabled>Select Trip Type</option>
              <option name="tripType" #tripType>Incident_To_Hospital</option>
              <option name="tripType" #tripType>Hospital_To_Hospital</option>
              <option name="tripType" #tripType>Other</option>
            </select>
          </td>
          <td>
            <button *ngIf='ambulances.status == "ON_DUTY"' style="width: 100px" type="button"
                    (click)="updateAmbulance(ambulances.ambulanceId.toString(),'AVAILABLE',tripType.value,driverName.value)"
                    class="btn btn-sm btn-danger" data-toggle="modal" data-target="#exampleModal">Available
            </button>
            <button *ngIf='ambulances.status == "AVAILABLE"' style="width: 100px" type="button"
                    (click)="updateAmbulance(ambulances.ambulanceId.toString(),'ON_DUTY',tripType.value,driverName.value)"
                    class="btn btn-sm btn-info" data-toggle="modal" data-target="#exampleModal">On Duty
            </button>
          </td>
        </tr>
        </tbody>
      </table>

    </div>
  </div>

</main>


